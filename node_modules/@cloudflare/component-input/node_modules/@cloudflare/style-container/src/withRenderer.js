/* eslint-disable behance/no-deprecated */
import React, { Component } from 'react';
import PropTypes from 'prop-types';
import { hocDisplayName, addDisplayName } from './displayName';

export const getDisplayName = hocDisplayName('withRenderer');

const withRenderer = ComponentToWrap => {
  class WithRendererComponent extends Component {
    render() {
      return (
        <ComponentToWrap renderer={this.context.renderer} {...this.props} />
      );
    }
  }
  WithRendererComponent.contextTypes = { renderer: PropTypes.object };
  addDisplayName(WithRendererComponent, ComponentToWrap, getDisplayName);

  return WithRendererComponent;
};

export default withRenderer;
